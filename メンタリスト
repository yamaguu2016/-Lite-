<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¡ãƒ³ã‚¿ãƒªã‚¹ãƒˆ - å›°ã‚Šã”ã¨ã‚’æ•´ç†ã™ã‚‹å ´æ‰€</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --dark: #1e1b4b;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-500: #6b7280;
            --gray-700: #374151;
            --gray-900: #111827;
        }

        body {
            font-family: 'Segoe UI', 'Hiragino Sans', 'Meiryo', sans-serif;
            background: var(--gray-100);
            color: var(--gray-900);
            line-height: 1.7;
            min-height: 100vh;
        }

        /* Header - ã‚·ãƒ³ãƒ—ãƒ« */
        .header {
            background: var(--dark);
            padding: 15px 20px;
        }

        .header-inner {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fff;
            text-decoration: none;
            font-size: 1.3rem;
            font-weight: bold;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .header-note {
            color: rgba(255,255,255,0.6);
            font-size: 0.85rem;
        }

        /* Hero - 1ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç‰¹åŒ– */
        .hero {
            background: linear-gradient(135deg, var(--dark) 0%, #312e81 100%);
            padding: 80px 20px 100px;
            text-align: center;
            color: #fff;
        }

        .hero h1 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .hero-sub {
            font-size: 1.1rem;
            opacity: 0.85;
            margin-bottom: 50px;
        }

        /* ãƒ¡ã‚¤ãƒ³å…¥åŠ›ã‚¨ãƒªã‚¢ */
        .input-card {
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .input-label {
            display: block;
            text-align: left;
            color: var(--gray-700);
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .main-input {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 1.1rem;
            transition: all 0.3s;
            margin-bottom: 15px;
        }

        .main-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        .main-textarea {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 1rem;
            min-height: 120px;
            resize: vertical;
            transition: all 0.3s;
            font-family: inherit;
            line-height: 1.6;
        }

        .main-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        .main-textarea::placeholder {
            color: var(--gray-500);
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .input-note {
            text-align: center;
            color: var(--gray-500);
            font-size: 0.85rem;
            margin-top: 20px;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */
        .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 50px 20px;
        }

        /* AIæ•´ç†çµæœ */
        .result-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .result-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-card {
            background: #fff;
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--gray-200);
        }

        .result-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .result-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .result-subtitle {
            font-size: 0.9rem;
            color: var(--gray-500);
        }

        /* æ•´ç†ã•ã‚ŒãŸå†…å®¹ */
        .organized-content {
            background: var(--gray-100);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .organized-label {
            font-size: 0.85rem;
            color: var(--gray-500);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .organized-text {
            font-size: 1.05rem;
            color: var(--gray-700);
            line-height: 1.8;
        }

        .organized-item {
            margin-bottom: 20px;
        }

        .organized-item:last-child {
            margin-bottom: 0;
        }

        .organized-item h4 {
            color: var(--primary);
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        /* ã‚¿ã‚° */
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .tag {
            background: #fff;
            border: 1px solid var(--gray-200);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--gray-700);
        }

        /* ã‚¹ãƒ¬ãƒƒãƒ‰è¡¨ç¤º */
        .thread-card {
            background: #fff;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .thread-card:hover {
            border-color: var(--primary);
        }

        .thread-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            background: #dcfce7;
            color: #16a34a;
            margin-bottom: 15px;
        }

        .thread-title {
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .thread-description {
            color: var(--gray-600);
            margin-bottom: 20px;
            line-height: 1.7;
        }

        .thread-meta {
            display: flex;
            gap: 20px;
            font-size: 0.85rem;
            color: var(--gray-500);
            padding-top: 15px;
            border-top: 1px solid var(--gray-200);
        }

        /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: #fff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-outline {
            background: #fff;
            border: 2px solid var(--gray-200);
            color: var(--gray-700);
        }

        .btn-outline:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--gray-200);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--gray-500);
            font-size: 0.95rem;
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray-500);
            font-size: 0.85rem;
        }

        .footer-note {
            max-width: 500px;
            margin: 0 auto 15px;
            padding: 15px;
            background: rgba(99, 102, 241, 0.05);
            border-radius: 10px;
            color: var(--gray-600);
        }

        /* æ–°è¦ç›¸è«‡ãƒœã‚¿ãƒ³ï¼ˆãƒ•ãƒ­ãƒ¼ãƒˆï¼‰ */
        .new-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 5px 25px rgba(99, 102, 241, 0.4);
            transition: all 0.3s;
            border: none;
            display: none;
        }

        .new-btn:hover {
            transform: scale(1.1);
        }

        .new-btn.show {
            display: flex;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 600px) {
            .hero {
                padding: 50px 15px 70px;
            }

            .hero h1 {
                font-size: 1.4rem;
            }

            .input-card {
                padding: 25px 20px;
            }

            .result-card, .thread-card {
                padding: 25px 20px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .header-note {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header">
        <div class="header-inner">
            <a href="#" class="logo" onclick="resetToHome()">
                <div class="logo-icon">ğŸ§ </div>
                <span>ãƒ¡ãƒ³ã‚¿ãƒªã‚¹ãƒˆ</span>
            </a>
            <span class="header-note">å›°ã‚Šã”ã¨ã‚’æ•´ç†ã™ã‚‹å ´æ‰€</span>
        </div>
    </header>

    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ - 1ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="hero" id="heroSection">
        <h1>ä»Šã€å›°ã£ã¦ã„ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ</h1>
        <p class="hero-sub">ã¾ãšã¯æ›¸ãå‡ºã™ã ã‘ã€‚æ•´ç†ã¯AIãŒæ‰‹ä¼ã„ã¾ã™ã€‚</p>

        <div class="input-card">
            <label class="input-label">å›°ã£ã¦ã„ã‚‹ã“ã¨ï¼ˆã²ã¨ã“ã¨ã§ï¼‰</label>
            <input 
                type="text" 
                class="main-input" 
                id="titleInput"
                placeholder="ä¾‹ï¼šReactãŒé›£ã—ãã¦æŒ«æŠ˜ã—ãã†"
            >

            <label class="input-label" style="margin-top: 20px;">ã‚‚ã†å°‘ã—è©³ã—ãï¼ˆä»»æ„ï¼‰</label>
            <textarea 
                class="main-textarea" 
                id="detailInput"
                placeholder="ã©ã‚“ãªçŠ¶æ³ï¼Ÿä½•ã‚’è©¦ã—ãŸï¼Ÿã©ã“ã§è©°ã¾ã£ã¦ã‚‹ï¼Ÿ&#10;æ€ã„ã¤ãã¾ã¾æ›¸ã„ã¦ã¿ã¦ãã ã•ã„ã€‚"
            ></textarea>

            <button class="submit-btn" id="submitBtn" onclick="submitProblem()">
                æ•´ç†ã—ã¦ã‚‚ã‚‰ã†
            </button>

            <p class="input-note">
                â€» è§£æ±ºã‚’ç´„æŸã¯ã§ãã¾ã›ã‚“ã€‚<br>ã§ã‚‚ã€æ•´ç†ã®æ‰‹ä¼ã„ã¯ã—ã¾ã™ã€‚
            </p>
        </div>
    </section>

    <!-- çµæœã‚¨ãƒªã‚¢ -->
    <div class="content">
        <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° -->
        <div class="result-section" id="loadingSection">
            <div class="loading">
                <div class="spinner"></div>
                <p class="loading-text">AIãŒå†…å®¹ã‚’æ•´ç†ã—ã¦ã„ã¾ã™...</p>
            </div>
        </div>

        <!-- AIæ•´ç†çµæœ -->
        <div class="result-section" id="resultSection">
            <div class="result-card">
                <div class="result-header">
                    <div class="result-icon">âœ¨</div>
                    <div>
                        <div class="result-title">æ•´ç†ã§ãã¾ã—ãŸ</div>
                        <div class="result-subtitle">ã‚ãªãŸã®å›°ã‚Šã”ã¨ã‚’æ§‹é€ åŒ–ã—ã¾ã—ãŸ</div>
                    </div>
                </div>

                <div class="organized-content">
                    <div class="organized-item">
                        <div class="organized-label">ğŸ“Œ è¦ç´„</div>
                        <div class="organized-text" id="resultSummary">
                            <!-- å‹•çš„ã«æŒ¿å…¥ -->
                        </div>
                    </div>

                    <div class="organized-item">
                        <div class="organized-label">ğŸ” å…·ä½“çš„ãªå•é¡Œ</div>
                        <div class="organized-text" id="resultProblems">
                            <!-- å‹•çš„ã«æŒ¿å…¥ -->
                        </div>
                    </div>

                    <div class="organized-item">
                        <div class="organized-label">ğŸ’¡ è€ƒãˆã‚‰ã‚Œã‚‹æ–¹å‘æ€§</div>
                        <div class="organized-text" id="resultDirections">
                            <!-- å‹•çš„ã«æŒ¿å…¥ -->
                        </div>
                    </div>

                    <div class="tags" id="resultTags">
                        <!-- å‹•çš„ã«æŒ¿å…¥ -->
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="publishThread()">
                        ğŸŒ ã¿ã‚“ãªã«ç›¸è«‡ã™ã‚‹
                    </button>
                    <button class="btn btn-outline" onclick="resetToHome()">
                        âœï¸ æ›¸ãç›´ã™
                    </button>
                </div>
            </div>
        </div>

        <!-- å…¬é–‹ã•ã‚ŒãŸã‚¹ãƒ¬ãƒƒãƒ‰ -->
        <div class="result-section" id="threadSection">
            <div class="thread-card">
                <span class="thread-status">ğŸ“¢ å…¬é–‹ä¸­</span>
                <h3 class="thread-title" id="threadTitle"></h3>
                <p class="thread-description" id="threadDescription"></p>

                <div class="tags" id="threadTags"></div>

                <div class="thread-meta">
                    <span>ğŸ‘¤ ã‚ãªãŸ</span>
                    <span>ğŸ“… ãŸã£ãŸä»Š</span>
                    <span>ğŸ’¬ 0 ã‚³ãƒ¡ãƒ³ãƒˆ</span>
                </div>
            </div>

            <div class="result-card" style="text-align: center; background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(16, 185, 129, 0.05) 100%);">
                <p style="font-size: 1.1rem; color: var(--gray-700); margin-bottom: 10px;">
                    ğŸ‰ ç›¸è«‡ãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸï¼
                </p>
                <p style="color: var(--gray-500); font-size: 0.95rem;">
                    èª°ã‹ãŒè¦‹ã¦ãã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚<br>
                    é€šçŸ¥ãŒæ¥ãŸã‚‰ã¾ãŸãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚
                </p>
            </div>
        </div>
    </div>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="footer">
        <div class="footer-note">
            ğŸ¤ å°†æ¥ã¯ãƒ¡ãƒ³ã‚¿ãƒ¼ï¼ˆçµŒé¨“è€…ï¼‰ã‚‚å‚åŠ äºˆå®šã§ã™ã€‚<br>
            ä»Šã¯ã€Œæ•´ç†ã™ã‚‹ã€ã“ã¨ã«é›†ä¸­ã—ã¦ã„ã¾ã™ã€‚
        </div>
        <p>Â© 2024 ãƒ¡ãƒ³ã‚¿ãƒªã‚¹ãƒˆ - å›°ã‚Šã”ã¨ã‚’æ•´ç†ã™ã‚‹å ´æ‰€</p>
    </footer>

    <!-- æ–°è¦ç›¸è«‡ãƒœã‚¿ãƒ³ -->
    <button class="new-btn" id="newBtn" onclick="resetToHome()">+</button>

    <script>
        // çŠ¶æ…‹ç®¡ç†
        let currentData = {
            title: '',
            detail: '',
            summary: '',
            problems: [],
            directions: [],
            tags: []
        };

        // é€ä¿¡å‡¦ç†
        function submitProblem() {
            const title = document.getElementById('titleInput').value.trim();
            const detail = document.getElementById('detailInput').value.trim();

            if (!title) {
                document.getElementById('titleInput').focus();
                return;
            }

            currentData.title = title;
            currentData.detail = detail;

            // ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’ç¸®å°
            document.getElementById('heroSection').style.display = 'none';

            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            showSection('loadingSection');

            // AIå‡¦ç†ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
            setTimeout(() => {
                processWithAI(title, detail);
            }, 1500 + Math.random() * 1000);
        }

        // AIå‡¦ç†ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
        function processWithAI(title, detail) {
            // ç°¡æ˜“çš„ãªåˆ†æãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå®Ÿéš›ã¯APIå‘¼ã³å‡ºã—ï¼‰
            const analysis = analyzeContent(title, detail);
            
            currentData.summary = analysis.summary;
            currentData.problems = analysis.problems;
            currentData.directions = analysis.directions;
            currentData.tags = analysis.tags;

            // çµæœã‚’è¡¨ç¤º
            displayResult();
        }

        // å†…å®¹åˆ†æï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
        function analyzeContent(title, detail) {
            const combined = title + ' ' + detail;
            
            // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
            const keywords = {
                'React': ['React', 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰', 'JavaScript', 'Hooks'],
                'Python': ['Python', 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰', 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'],
                'å‹‰å¼·': ['å­¦ç¿’', 'å‹‰å¼·æ³•', 'ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³'],
                'ä»•äº‹': ['ã‚­ãƒ£ãƒªã‚¢', 'è»¢è·', 'ä»•äº‹'],
                'æŒ«æŠ˜': ['ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³', 'ç¶™ç¶š', 'åˆå¿ƒè€…'],
                'ã‚ã‹ã‚‰ãªã„': ['åŸºç¤', 'å­¦ç¿’', 'ç†è§£'],
                'é›£ã—ã„': ['é›£æ˜“åº¦', 'æ®µéšçš„å­¦ç¿’'],
            };

            let detectedTags = [];
            Object.keys(keywords).forEach(key => {
                if (combined.includes(key)) {
                    detectedTags = [...detectedTags, ...keywords[key]];
                }
            });

            // é‡è¤‡é™¤å»
            detectedTags = [...new Set(detectedTags)].slice(0, 5);
            if (detectedTags.length === 0) {
                detectedTags = ['ç›¸è«‡', 'æ•´ç†ä¸­'];
            }

            // å•é¡Œã®æ§‹é€ åŒ–
            const problems = [
                'ä½•ã‹ã‚‰æ‰‹ã‚’ã¤ã‘ã¦ã„ã„ã‹ã‚ã‹ã‚‰ãªã„çŠ¶æ…‹',
                'æƒ…å ±ãŒå¤šã™ãã¦æ•´ç†ã§ãã¦ã„ãªã„',
                'å…·ä½“çš„ãªã‚´ãƒ¼ãƒ«ãŒè¦‹ãˆã¦ã„ãªã„'
            ];

            // æ–¹å‘æ€§ã®ææ¡ˆ
            const directions = [
                'å°ã•ãå§‹ã‚ã‚‹ï¼šã¾ãš1ã¤ã ã‘ã«çµã‚‹',
                'è¨€èªåŒ–ã™ã‚‹ï¼šäººã«èª¬æ˜ã™ã‚‹ã¤ã‚‚ã‚Šã§æ›¸ã',
                'æœŸé™ã‚’æ±ºã‚ã‚‹ï¼š1é€±é–“ã§â—‹â—‹ã¾ã§ã€ã¨åŒºåˆ‡ã‚‹'
            ];

            // è¦ç´„ç”Ÿæˆ
            const summary = `ã€Œ${title}ã€ã¨ã„ã†çŠ¶æ³ã§ã™ã­ã€‚${detail ? 'è©³ç´°ã‚’èª­ã‚€ã¨ã€' + (detail.length > 50 ? detail.substring(0, 50) + '...' : detail) + 'ã¨ã„ã†ã“ã¨ãŒè¦‹ãˆã¦ãã¾ã™ã€‚' : 'ã¾ãšã¯ç¾çŠ¶ã‚’æ•´ç†ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚'}`;

            return {
                summary,
                problems,
                directions,
                tags: detectedTags
            };
        }

        // çµæœè¡¨ç¤º
        function displayResult() {
            document.getElementById('resultSummary').textContent = currentData.summary;
            
            document.getElementById('resultProblems').innerHTML = 
                currentData.problems.map(p => `â€¢ ${p}`).join('<br>');
            
            document.getElementById('resultDirections').innerHTML = 
                currentData.directions.map(d => `â€¢ ${d}`).join('<br>');
            
            document.getElementById('resultTags').innerHTML = 
                currentData.tags.map(t => `<span class="tag">${t}</span>`).join('');

            hideSection('loadingSection');
            showSection('resultSection');
            
            // æ–°è¦ãƒœã‚¿ãƒ³è¡¨ç¤º
            document.getElementById('newBtn').classList.add('show');
        }

        // ã‚¹ãƒ¬ãƒƒãƒ‰å…¬é–‹
        function publishThread() {
            document.getElementById('threadTitle').textContent = currentData.title;
            document.getElementById('threadDescription').textContent = 
                currentData.summary + '\n\n' + 
                'ã€å…·ä½“çš„ãªå•é¡Œã€‘\n' + currentData.problems.join('\n');
            
            document.getElementById('threadTags').innerHTML = 
                currentData.tags.map(t => `<span class="tag">${t}</span>`).join('');

            hideSection('resultSection');
            showSection('threadSection');

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
        function resetToHome() {
            // å…¥åŠ›ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('titleInput').value = '';
            document.getElementById('detailInput').value = '';

            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³éè¡¨ç¤º
            hideSection('loadingSection');
            hideSection('resultSection');
            hideSection('threadSection');

            // ãƒ’ãƒ¼ãƒ­ãƒ¼è¡¨ç¤º
            document.getElementById('heroSection').style.display = 'block';

            // ãƒœã‚¿ãƒ³éè¡¨ç¤º
            document.getElementById('newBtn').classList.remove('show');

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ
            currentData = {
                title: '',
                detail: '',
                summary: '',
                problems: [],
                directions: [],
                tags: []
            };
        }

        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º/éè¡¨ç¤º
        function showSection(id) {
            document.getElementById(id).classList.add('active');
        }

        function hideSection(id) {
            document.getElementById(id).classList.remove('active');
        }

        // Enterã‚­ãƒ¼ã§é€ä¿¡
        document.getElementById('titleInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('detailInput').focus();
            }
        });

        // Ctrl+Enterã§é€ä¿¡
        document.getElementById('detailInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                submitProblem();
            }
        });
    </script>
</body>
</html>
